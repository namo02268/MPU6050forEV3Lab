# MPU6050 for EV3 Lab
## 概要 (Overview)
**MPU6050** を EV3 で使用するための LEGO MINDSTORMS EV3 向け拡張プログラミングブロックです。  
簡単なハードウェア加工を行うことで、Arduino などのマイコンを介さずに EV3 から直接 MPU6050 と通信できます。

## ⚠ ハードウェア上の注意

### I2C プルアップ抵抗について

MPU6050 を EV3 で使用するには、**MPU6050 モジュール側に実装されている I2C プルアップ抵抗の変更が必要です**。

一般的な MPU6050 モジュールには、I2C（SCL / SDA）用として  
**4.7kΩ のプルアップ抵抗** が実装されています。

しかし、LEGO MINDSTORMS EV3 のセンサーポートでは、  
**外部 I2C デバイス側のプルアップ抵抗値として 85kΩ が LEGO 公式により推奨されています**。

そのため、MPU6050 を EV3 に接続して使用する場合は、以下の対応を行ってください。

- **MPU6050 モジュールに実装されている 4.7kΩ のチップ抵抗を取り外す**
- **LEGO 公式の推奨に従い、85kΩ の抵抗に交換する**

この変更を行わない場合、センサーは正しく認識されません。

### 電源電圧について

EV3 のセンサーポートからは **5V が出力されます**。  
そのため、MPU6050 を直接接続して使用する場合は、  
**5V 入力を受けて内部で 3.3V に降圧できる LDO（レギュレータ）を搭載した MPU6050 モジュールが必須です**。

- **3.3V LDO 搭載モジュール**：使用可能  
- **LDO 非搭載で 3.3V 直接給電を前提とするモジュール**：使用不可

不適切なモジュールを使用すると、センサーの誤動作や破損の原因となるため注意してください。

> **注意**  
> 上記の作業は MPU6050 モジュールのハードウェア改造を伴います。  
> 実施はすべて自己責任で行ってください。

## 抵抗の交換方法
### プルアップ抵抗を外す
SDA および SCL それぞれのプルアップ用チップ抵抗を取り外します。  
下記の画像では **R4、R5** が該当します。

はんだごてを数秒間当てることで、比較的簡単に取り外すことができます。


### EV3と配線する
SDA、SCL、5V、GND をそれぞれ接続してください。  
また、**5V と SDA / SCL の間に 85kΩ のプルアップ抵抗** を接続します。

47kΩ や 100kΩ の抵抗値でも動作は確認していますが、**LEGO 公式で推奨されている値は 85kΩ です**。

## 拡張ブロックの使用方法

## 拡張ブロックのインストール方法 (Installation)
- [Releases ページ](https://github.com/namo02268/MPU6050forEV3Lab/releases)より 「MPU6050.ev3b」 をダウンロード
- EV3ソフトウェアを起動し、[ツール] > [ブロック インポート] を開く
- ダウンロードした .ev3b ファイルを読み込む
- EV3ソフトウェアを再起動
- 追加されたブロックをプログラムにドラッグ＆ドロップして使用

---

- Download the "MPU6050.ev3b" file from the [Releases page]((https://github.com/namo02268/MPU6050forEV3Lab/releases)).
- Launch the EV3 software and open [Tools] > [Block Import].
- Import the downloaded .ev3b file.
- Restart the EV3 software.
- Drag and drop the added blocks into your program to use them.
